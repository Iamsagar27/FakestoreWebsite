<app-header></app-header>

<section class="shop-page">
  <div class="shop-hero">
    <h1>Cart</h1>
    <p><b>Home</b> <span class="material-symbols-outlined">chevron_right</span> Cart</p>
  </div>
</section>

<section class="cart-wrapper">

   <div class="cart-empty" *ngIf="cart.items().length === 0">
    <span class="material-symbols-outlined cart-icon">
      shopping_cart
    </span>
    <h2>Your cart is empty</h2>
    <p>Looks like you havenâ€™t added anything yet</p>

    <button routerLink="/products">Continue Shopping</button>
  </div>

  <ng-container *ngIf="cart.items().length > 0">
    <div class="cart-left">

      <!-- HEADER -->
      <div class="cart-header">
        <div>Product</div>
        <div>Price</div>
        <div>Quantity</div>
        <div>Subtotal</div>
        <div></div>
      </div>

      <!-- ROWS -->
      <div class="cart-row" *ngFor="let item of cart.items()">

        <div class="product-cell">
          <img [src]="item.image" />
          <span>{{ item.title }}</span>
        </div>

        <div class="price">Rs. {{ item.price }}</div>

        <div class="quantity">
          <input
            type="number"
            min="1"
            [value]="item.quantity"
            (change)="cart.updateQuantity(item.id, $any($event.target).value)"
          />
        </div>

        <div class="subtotal">
          Rs. {{ item.price * item.quantity }}
        </div>

        <div class="action">
          <span
            class="material-symbols-outlined"
            (click)="cart.removeItem(item.id)">
            delete
          </span>
        </div>

      </div>

    </div>

    <div class="cart-totals">
      <h3>Cart Totals</h3>

      <div class="row subtotal">
        <span>Subtotal</span>
        <span>Rs. {{ cart.subtotal() }}</span>
      </div>

      <div class="row total">
        <span>Total</span>
        <span>Rs. {{ cart.subtotal() }}</span>
      </div>

      <button>Check Out</button>
    </div>
  </ng-container>

</section>


<section class="features">
  <div class="features-container">
    <div class="feature-item">
      <span class="material-symbols-outlined">trophy</span>
      <div>
        <h4>High Quality</h4>
        <p>crafted from top materials</p>
      </div>
    </div>

    <div class="feature-item">
      <span class="material-symbols-outlined">verified</span>
      <div>
        <h4>Warranty Protection</h4>
        <p>Over 2 years</p>
      </div>
    </div>

    <div class="feature-item">
      <span class="material-symbols-outlined">local_shipping</span>
      <div>
        <h4>Free Shipping</h4>
        <p>Order over 150 $</p>
      </div>
    </div>

    <div class="feature-item">
      <span class="material-symbols-outlined">support_agent</span>
      <div>
        <h4>24 / 7 Support</h4>
        <p>Dedicated support</p>
      </div>
    </div>
  </div>
</section>


<app-footer></app-footer>